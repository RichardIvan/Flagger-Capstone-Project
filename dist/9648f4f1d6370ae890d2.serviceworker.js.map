{"version":3,"sources":["webpack:///webpack/bootstrap 9648f4f1d6370ae890d2","webpack:///./src/js/services/service-worker.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;AAEA;;AAEA,QAAQ,GAAR,CAAY,yBAAZ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB,eAAxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,gBAAL,CAAsB,OAAtB,EAAgC,KAAD,IAAW;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAzDD,E","file":"9648f4f1d6370ae890d2.serviceworker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9648f4f1d6370ae890d2","/* @flow */\n'use strict'\n\n//TODO chace common.js\n\nconsole.log('hey from service worker')\n\n// self.addEventListener('install', (event) => {\n//   console.log('something happened')\n// })\n\n// import _ from 'lodash'\n// // import now from 'performance-now'\n//\n// // import CacheControl from '../../helpers/CacheControl.js'\n// // import DataControl from '../../helpers/DataControl.js'\n// // import NetworkControl from '../../helpers/NetworkControl.js'\n//\nconst staticCacheName = 'guess-what-v1'\n// // const CacheControl = new CC(staticCacheName)\n//\n// self.addEventListener('install', (event) => {\n//\n//   // console.log(event)\n//   // console.log(self)\n//\n//   event.waitUntil(\n//     caches.open(staticCacheName).then((cache) => {\n//       return cache.addAll([\n//         '/',\n//         '/index.html',\n//         '/css/main.css',\n//         '/js/index.js'\n//         // '/?/',\n//         // '/?/index.html',\n//         // '/?/css/main.css',\n//         // '/?/js/index.js',\n//         // '/stations/'\n//       ])\n//       .then(() => {\n//         self.skipWaiting()\n//       })\n//     })\n//   )\n// })\n    //   .then((a) => {\n    //     // console.log(window)\n    //     const endpoints = ['data/', 'routes/']\n    //\n    //     const promises = _.map(endpoints, (endpoint) => {\n    //       const url = `${event.currentTarget.registration.scope}${endpoint}`\n    //\n    //       return fetch(url).then((response) => {\n    //         const dataRequest = new Request(endpoint)\n    //\n    //         return cache.put(dataRequest, response)\n    //       })\n    //     })\n    //\n    //     return Promise.all(promises)\n    //\n    //   }).catch((e) => console.log(e))\n    // })\n\n\n//\n// self.addEventListener('waiting', (event) => {\n//   console.log('yeah waiting man')\n// })\n//\n// self.addEventListener('redundant', (event) => {\n//   console.log(event)\n//   console.log('yeah waiting')\n// })\n//\n// self.addEventListener('activate', (event) => {\n//\n//   console.log('have been activated')\n//\n//   event.waitUntil(\n//     caches.keys().then((cacheNames) => {\n//       return Promise.all(\n//         cacheNames.filter((cacheName) => {\n//           return cacheName.startsWith('transport-') &&\n//                  cacheName !== staticCacheName\n//         }).map((cacheName) => {\n//           return caches.delete(cacheName)\n//         })\n//       )\n//       // .then(_ => console.log('thats not true, its only triggered after install, actually next time the client has let go of the previeous controlling worker!'))\n//     })\n//   )\n// })\n//\nself.addEventListener('fetch', (event) => {\n\n  // console.log(event)\n  //\n  // const url = event.request.url\n  // const dataFromURL = parseURL(url)\n  //\n  // const endpoint = dataFromURL.endpoint\n  //\n  // // console.log('ENDPOINT IN SW')\n  // // console.log(endpoint)\n  //\n  // switch (endpoint) {\n  //   case 'data':\n  //   case 'routes':\n  //     // getFromCache accepts event / event.request and callbackFunction in case there is no data in in the cache\n  //     event.respondWith(\n  //       CacheControl.getFromCache(event, NetworkControl.fetchFromNetwork.bind(null, event))\n  //       )\n  //     break\n  //   case 'journey':\n  //     // let thingy = CacheControl.getFromCache(event, DataControl.getRoute.bind(null, event, pathnameInfo))\n  //     // console.log()\n  //     console.log(dataFromURL)\n  //\n  //     event.respondWith(\n  //       CacheControl.getFromCache(event, DataControl.getRoute.bind(null, event, dataFromURL))\n  //         // .then(resp => {\n  //         //   console.log(resp)\n  //         //   return resp\n  //         //   // let init = { 'status': 200, 'statusText': \"OK\"}\n  //         //   // return new Response(resp, init)\n  //         // })\n  //     )\n  //     // accepts callback that will construct the necessary response for the route\n  //     // this function searches data by passed in route Info\n  //     // return\n  //     break\n  //   case 'stations':\n  //     event.respondWith(\n  //       CacheControl.getFromCache(event, NetworkControl.fetchFromNetwork.bind(null, event))\n  //     )\n  //     break\n  //   case 'realtime':\n  //     event.respondWith(\n  //       NetworkControl.fetchFromNetwork(event)\n  //     )\n  //     break\n  //   case 'browser-sync':\n  //   case 'sockjs-node':\n  //     break\n  //   default:\n  //     event.respondWith(CacheControl.getFromCache(event, NetworkControl.fetchFromNetwork.bind(null, event)))\n  //     // // event.respondWith(CacheControl.getFromCache(event, NetworkControl.fetchFromNetwork.bind(null, event)))\n  //     // event.respondWith(CacheControl.getFromCache(event, NetworkControl.fetchFromNetwork.bind(null, event, false)))\n  //     break\n  // }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/service-worker.js"],"sourceRoot":""}